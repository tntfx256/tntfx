@use "sass:color";

@function background($element, $type) {
  @if $type {
    @return "var(--color-#{$element}-#{$type})";
  }
  @return "var(--color-#{$element})";
}

@function color($element, $type) {
  @if $type {
    @return "var(--color-#{$element}-#{$type}-text)";
  }
  @return "var(--color-#{$element}-text)";
}

@function shadow($size) {
  @return "var(--shadow-#{$size})";
}

@mixin createColorPalettes(
  $color-text,
  $color-text-alt,
  $color-primary,
  $color-secondary,
  $color-info,
  $color-success,
  $color-warning,
  $color-error,
  $color-border,
  $color-body,
  $color-surface,
  $color-element,
  $color-element-alt
) {
  // @media (prefers-color-scheme: light) {
  :where(html) {
    color-scheme: light;

    --color-text: #{$color-text};
    --color-text-alt: #{$color-text-alt};

    --shadow-strength: 1%;
    --shadow-color: 220 3% 15%;

    --color-primary: #{$color-primary};
    --color-primary-alpha: #{transparentize($color-primary, 0.2)};
    --color-primary-text: #{$color-text};
    --color-secondary: #{$color-secondary};
    --color-secondary-text: #{$color-text};
    --color-body: #{$color-body};
    --color-body-text: #{$color-text};
    --color-body-alpha: #{transparentize($color-body, 0.2)};
    --color-body-alpha-text: #{$color-text};
    --color-surface: #{$color-surface};
    --color-surface-text: #{$color-text};
    --color-element: #{$color-element};
    --color-element-text: #{$color-text};
    --color-element-alpha: #{transparentize($color-element, 0.4)};
    --color-element-text: #{$color-text};
    --color-element-alt: #{$color-element-alt};
    --color-element-alt-text: #{$color-text};
    --color-backdrop: #{transparentize($color-body, 0.3)};
    --color-info: #{$color-info};
    --color-info-text: #{$color-text};
    --color-success: #{$color-success};
    --color-success-text: #{$color-text};
    --color-warning: #{$color-warning};
    --color-warning-text: var(--color-text-alt);
    --color-error: #{$color-error};
    --color-error-text: var(--color-text-alt);
    --color-border: #{$color-border};
    --color-border-alpha: #{transparentize($color-border, 0.2)};
  }
  // }

  @media (prefers-color-scheme: dark) {
    :where(html) {
      color-scheme: dark;

      --color-text: #{$color-text-alt};
      --color-text-alt: #{$color-text};

      --shadow-strength: 10%;
      --shadow-color: 220 40% 2%;

      --color-primary: #{darken($color-primary, 0.1)};
      --color-primary-alpha: #{transparentize($color-primary, 0.2)};
      --color-primary-text: #{$color-text};
      --color-secondary: #{darken($color-secondary, 0.1)};
      --color-secondary-text: #{$color-text};
      --color-body: #{darken($color-body, 0.8)};
      --color-body-text: #{$color-text};
      --color-body-alpha: #{transparentize($color-body, 0.2)};
      --color-body-alpha-text: #{$color-text};
      --color-surface: #{darken($color-surface, 0.8)};
      --color-surface-text: #{$color-text};
      --color-element: #{darken($color-element, 0.7)};
      --color-element-text: #{$color-text};
      --color-element-alpha: #{transparentize($color-element, 0.4)};
      --color-element-text: #{$color-text};
      --color-element-alt: #{darken($color-element-alt, 0.8)};
      --color-element-alt-text: #{$color-text};
      --color-backdrop: #{transparentize($color-body, 0.3)};
      --color-info: #{darken($color-info, 0.1)};
      --color-info-text: #{$color-text};
      --color-success: #{darken($color-success, 0.1)};
      --color-success-text: #{$color-text};
      --color-warning: #{darken($color-warning, 0.1)};
      --color-warning-text: var(--color-text-alt);
      --color-error: #{darken($color-error, 0.1)};
      --color-error-text: #{$color-text};
      --color-border: #{darken($color-border, 0.5)};
      --color-border-alpha: #{transparentize($color-border, 0.5)};
    }
  }

  :where(html) {
    --shadow-xs: 0 1px 2px -1px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 9%));
    --shadow-sm: 0 3px 5px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),
      0 7px 14px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 5%));
    --shadow-md: 0 -1px 3px 0 hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),
      0 1px 2px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),
      0 2px 5px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 4%)),
      0 4px 12px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 5%)),
      0 12px 15px -5px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 7%));
    --shadow-lg: 0 -2px 5px 0 hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),
      0 1px 1px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),
      0 2px 2px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),
      0 5px 5px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 4%)),
      0 9px 9px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 5%)),
      0 16px 16px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 6%));
    --shadow-xl: 0 -1px 2px 0 hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),
      0 2px 1px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),
      0 5px 5px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),
      0 10px 10px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 4%)),
      0 20px 20px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 5%)),
      0 40px 40px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 7%));
    --shadow-2xl: 0 -1px 2px 0 hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),
      0 3px 2px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),
      0 7px 5px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),
      0 12px 10px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 4%)),
      0 22px 18px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 5%)),
      0 41px 33px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 6%)),
      0 100px 80px -2px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 7%));
  }
}
